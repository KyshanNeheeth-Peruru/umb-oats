{% extends 'base.html' %}

{% block title %}Profile{% endblock %}

{% block top_heading %}
    <h1 class="h3 mb-0 text-gray-900">Profile</h1>
{% endblock %}

{% block content %}
    <div class="row justify-content-center align-items-center">
    <div class="col-md-4 text-center">
        <img src="{{ user.profile.picture.url }}" class="rounded-circle" alt="Profile Picture" width="150" height="150">
        <h3 class="mt-2">{{ user.username }}</h3>
    </div>
    <div class="col-md-8">
        {% if user.is_authenticated and user.student %}
            <article>
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">First name:</label>
                        {{ form.first_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">Last name:</label>
                        {{ form.last_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.ums_id.id_for_label }}">UMS ID:</label>
                        {{ form.ums_id }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.courses.id_for_label }}">Courses:</label>
                        {{ form.courses }}
                    </div>
                    <button type="submit" class="btn btn-primary" onclick="return confirm('Are you sure you want to make changes?')">Save</button>
                </form>
            </article>
        {% endif %}
        {% if user.is_authenticated and user.is_superuser %}
            <article>
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">First name:</label>
                        {{ form.first_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">Last name:</label>
                        {{ form.last_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.username.id_for_label }}">Username:</label>
                        {{ form.username }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">Email:</label>
                        {{ form.email }}
                    </div>
                    <button type="submit" class="btn btn-primary" onclick="return confirm('Are you sure you want to make changes?')">Save</button>
                </form>
            </article>
        {% endif %}
        {% if user.is_authenticated and user.tutor %}
            <article>
                <form method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">First name:</label>
                        {{ form.first_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">Last name:</label>
                        {{ form.last_name }}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.courses.id_for_label }}">Courses:</label>
                        {{ form.courses }}
                    </div>
                    <button type="submit" class="btn btn-primary" onclick="return confirm('Are you sure you want to make changes?')">Save</button>
                </form>
            </article>
        {% endif %}
         <div class="h6 text-bg-danger">
                {% if messages %}
                    {{ messages.last }}
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
